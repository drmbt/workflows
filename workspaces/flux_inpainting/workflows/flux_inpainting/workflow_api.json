{
  "20": {
    "inputs": {
      "guide_size": 512,
      "guide_size_for": true,
      "max_size": 1024,
      "seed": [
        "65",
        0
      ],
      "steps": 35,
      "cfg": 1,
      "sampler_name": "euler",
      "scheduler": "normal",
      "denoise": 1,
      "feather": 5,
      "noise_mask": true,
      "force_inpaint": true,
      "wildcard": "",
      "cycle": 1,
      "inpaint_model": false,
      "noise_mask_feather": 20,
      "image": [
        "189",
        0
      ],
      "segs": [
        "21",
        0
      ],
      "model": [
        "55",
        0
      ],
      "clip": [
        "36",
        0
      ],
      "vae": [
        "37",
        0
      ],
      "positive": [
        "51",
        0
      ],
      "negative": [
        "23",
        0
      ]
    },
    "class_type": "DetailerForEach",
    "_meta": {
      "title": "Detailer (SEGS)"
    }
  },
  "21": {
    "inputs": {
      "combined": false,
      "crop_factor": 3,
      "bbox_fill": false,
      "drop_size": 10,
      "contour_fill": false,
      "mask": [
        "191",
        0
      ]
    },
    "class_type": "MaskToSEGS",
    "_meta": {
      "title": "MASK to SEGS"
    }
  },
  "23": {
    "inputs": {
      "text": "",
      "clip": [
        "36",
        0
      ]
    },
    "class_type": "CLIPTextEncode",
    "_meta": {
      "title": "Negative - Leave Empty"
    }
  },
  "24": {
    "inputs": {
      "model": "Florence-2-large",
      "precision": "bf16",
      "attention": "sdpa"
    },
    "class_type": "Florence2ModelLoader",
    "_meta": {
      "title": "Florence2ModelLoader"
    }
  },
  "28": {
    "inputs": {
      "model": "sam2_hiera_base_plus.safetensors",
      "segmentor": "single_image",
      "device": "cuda",
      "precision": "bf16"
    },
    "class_type": "DownloadAndLoadSAM2Model",
    "_meta": {
      "title": "(Down)Load SAM2Model"
    }
  },
  "29": {
    "inputs": {
      "keep_model_loaded": true,
      "individual_objects": [
        "164",
        0
      ],
      "sam2_model": [
        "28",
        0
      ],
      "image": [
        "75",
        0
      ],
      "bboxes": [
        "30",
        1
      ]
    },
    "class_type": "Sam2Segmentation",
    "_meta": {
      "title": "Sam2Segmentation"
    }
  },
  "30": {
    "inputs": {
      "index": [
        "163",
        0
      ],
      "batch": false,
      "data": [
        "62",
        3
      ]
    },
    "class_type": "Florence2toCoordinates",
    "_meta": {
      "title": "Florence2 Coordinates"
    }
  },
  "31": {
    "inputs": {
      "mask_opacity": 1,
      "mask_color": "0,0,0",
      "pass_through": true,
      "image": [
        "189",
        0
      ],
      "mask": [
        "191",
        0
      ]
    },
    "class_type": "ImageAndMaskPreview",
    "_meta": {
      "title": "ImageAndMaskPreview"
    }
  },
  "35": {
    "inputs": {
      "unet_name": "flux1-dev-fp8.safetensors",
      "weight_dtype": "fp8_e4m3fn"
    },
    "class_type": "UNETLoader",
    "_meta": {
      "title": "Load Diffusion Model"
    }
  },
  "36": {
    "inputs": {
      "clip_name1": "t5xxl_fp8_e4m3fn.safetensors",
      "clip_name2": "clip_l.safetensors",
      "type": "flux"
    },
    "class_type": "DualCLIPLoader",
    "_meta": {
      "title": "DualCLIPLoader"
    }
  },
  "37": {
    "inputs": {
      "vae_name": "ae.safetensors"
    },
    "class_type": "VAELoader",
    "_meta": {
      "title": "Load VAE"
    }
  },
  "38": {
    "inputs": {
      "text": [
        "197",
        0
      ],
      "clip": [
        "36",
        0
      ]
    },
    "class_type": "CLIPTextEncode",
    "_meta": {
      "title": "CLIP Text Encode (Prompt)"
    }
  },
  "47": {
    "inputs": {
      "boolean": [
        "216",
        0
      ],
      "on_true": [
        "29",
        0
      ],
      "on_false": [
        "72",
        0
      ]
    },
    "class_type": "Switch mask [Crystools]",
    "_meta": {
      "title": "ðŸª› Switch mask"
    }
  },
  "48": {
    "inputs": {
      "image": "A_black_image.jpg",
      "upload": "image"
    },
    "class_type": "LoadImage",
    "_meta": {
      "title": "Load Mask Image"
    }
  },
  "51": {
    "inputs": {
      "guidance": 4,
      "conditioning": [
        "38",
        0
      ]
    },
    "class_type": "FluxGuidance",
    "_meta": {
      "title": "FluxGuidance"
    }
  },
  "53": {
    "inputs": {
      "image": "01.jpg",
      "upload": "image"
    },
    "class_type": "LoadImage",
    "_meta": {
      "title": "Load Image"
    }
  },
  "55": {
    "inputs": {
      "max_shift": 1,
      "base_shift": 0.5,
      "width": 1024,
      "height": 1024,
      "model": [
        "78",
        0
      ]
    },
    "class_type": "ModelSamplingFlux",
    "_meta": {
      "title": "ModelSamplingFlux"
    }
  },
  "62": {
    "inputs": {
      "text_input": [
        "66",
        0
      ],
      "task": "caption_to_phrase_grounding",
      "fill_mask": true,
      "keep_model_loaded": true,
      "max_new_tokens": 1024,
      "num_beams": 4,
      "do_sample": false,
      "output_mask_select": "",
      "seed": [
        "65",
        0
      ],
      "image": [
        "75",
        0
      ],
      "florence2_model": [
        "24",
        0
      ]
    },
    "class_type": "Florence2Run",
    "_meta": {
      "title": "Florence2Run"
    }
  },
  "65": {
    "inputs": {
      "seed": 95
    },
    "class_type": "Eden_Seed",
    "_meta": {
      "title": "Eden_Seed"
    }
  },
  "66": {
    "inputs": {
      "value": "background"
    },
    "class_type": "Eden_String",
    "_meta": {
      "title": "Masking Prompt"
    }
  },
  "67": {
    "inputs": {
      "value": "beach"
    },
    "class_type": "Eden_String",
    "_meta": {
      "title": "Inpainting Prompt"
    }
  },
  "72": {
    "inputs": {
      "channel": "red",
      "image": [
        "73",
        0
      ]
    },
    "class_type": "ImageToMask",
    "_meta": {
      "title": "Convert Image to Mask"
    }
  },
  "73": {
    "inputs": {
      "width": 2048,
      "height": 2048,
      "interpolation": "lanczos",
      "method": "keep proportion",
      "condition": "always",
      "multiple_of": 32,
      "image": [
        "166",
        0
      ]
    },
    "class_type": "ImageResize+",
    "_meta": {
      "title": "ðŸ”§ Image Resize"
    }
  },
  "74": {
    "inputs": {
      "value": 1152
    },
    "class_type": "Eden_Int",
    "_meta": {
      "title": "Resolution"
    }
  },
  "75": {
    "inputs": {
      "width": 2048,
      "height": 2048,
      "interpolation": "lanczos",
      "method": "keep proportion",
      "condition": "always",
      "multiple_of": 32,
      "image": [
        "53",
        0
      ]
    },
    "class_type": "ImageResize+",
    "_meta": {
      "title": "ðŸ”§ Image Resize"
    }
  },
  "78": {
    "inputs": {
      "model": [
        "35",
        0
      ]
    },
    "class_type": "DifferentialDiffusion",
    "_meta": {
      "title": "Differential Diffusion"
    }
  },
  "114": {
    "inputs": {
      "padding": [
        "203",
        1
      ],
      "region_type": "dominant",
      "mask": [
        "47",
        0
      ]
    },
    "class_type": "Mask Crop Region",
    "_meta": {
      "title": "Mask Crop Region"
    }
  },
  "115": {
    "inputs": {
      "width": [
        "114",
        6
      ],
      "height": [
        "114",
        7
      ],
      "position": "top-left",
      "x_offset": [
        "114",
        3
      ],
      "y_offset": [
        "114",
        2
      ],
      "image": [
        "75",
        0
      ]
    },
    "class_type": "ImageCrop+",
    "_meta": {
      "title": "ðŸ”§ Image Crop"
    }
  },
  "119": {
    "inputs": {
      "padding": 0,
      "region_type": "dominant",
      "mask": [
        "47",
        0
      ]
    },
    "class_type": "Mask Crop Region",
    "_meta": {
      "title": "Mask Crop Region"
    }
  },
  "122": {
    "inputs": {
      "mask": [
        "114",
        0
      ]
    },
    "class_type": "MaskPreview+",
    "_meta": {
      "title": "ðŸ”§ Mask Preview"
    }
  },
  "128": {
    "inputs": {
      "images": [
        "62",
        0
      ]
    },
    "class_type": "PreviewImage",
    "_meta": {
      "title": "Preview Image"
    }
  },
  "163": {
    "inputs": {
      "on_true": "",
      "on_false": "0",
      "boolean": [
        "164",
        0
      ]
    },
    "class_type": "Switch string [Crystools]",
    "_meta": {
      "title": "ðŸª› Switch string"
    }
  },
  "164": {
    "inputs": {
      "value": true
    },
    "class_type": "Eden_Bool",
    "_meta": {
      "title": "Multiple Objects"
    }
  },
  "166": {
    "inputs": {
      "mask": [
        "53",
        1
      ]
    },
    "class_type": "MaskToImage",
    "_meta": {
      "title": "Convert Mask to Image"
    }
  },
  "169": {
    "inputs": {
      "x": [
        "114",
        3
      ],
      "y": [
        "114",
        2
      ],
      "resize_source": false,
      "destination": [
        "75",
        0
      ],
      "source": [
        "170",
        0
      ],
      "mask": [
        "171",
        1
      ]
    },
    "class_type": "ImageCompositeMasked",
    "_meta": {
      "title": "ImageCompositeMasked"
    }
  },
  "170": {
    "inputs": {
      "width": [
        "114",
        6
      ],
      "height": [
        "114",
        7
      ],
      "upscale_method": "lanczos",
      "keep_proportion": false,
      "divisible_by": 2,
      "crop": "disabled",
      "image": [
        "171",
        0
      ]
    },
    "class_type": "ImageResizeKJ",
    "_meta": {
      "title": "Resize Image"
    }
  },
  "171": {
    "inputs": {
      "select": 1,
      "images1": [
        "20",
        0
      ],
      "mask1_opt": [
        "191",
        0
      ],
      "images2_opt": [
        "20",
        0
      ],
      "mask2_opt": [
        "176",
        0
      ]
    },
    "class_type": "ImageMaskSwitch",
    "_meta": {
      "title": "Switch (images, mask)"
    }
  },
  "172": {
    "inputs": {
      "image": "$172-0",
      "images": [
        "20",
        0
      ]
    },
    "class_type": "PreviewBridge",
    "_meta": {
      "title": "Preview Bridge (Image)"
    }
  },
  "174": {
    "inputs": {
      "amount": 48,
      "device": "auto",
      "mask": [
        "172",
        1
      ]
    },
    "class_type": "MaskBlur+",
    "_meta": {
      "title": "ðŸ”§ Mask Blur"
    }
  },
  "175": {
    "inputs": {
      "image": "$175-0",
      "images": [
        "20",
        0
      ]
    },
    "class_type": "PreviewBridge",
    "_meta": {
      "title": "Preview Bridge (Image)"
    }
  },
  "176": {
    "inputs": {
      "mask1": [
        "174",
        0
      ],
      "mask2": [
        "177",
        0
      ]
    },
    "class_type": "SubtractMask",
    "_meta": {
      "title": "Pixelwise(MASK - MASK)"
    }
  },
  "177": {
    "inputs": {
      "amount": 0,
      "device": "auto",
      "mask": [
        "175",
        1
      ]
    },
    "class_type": "MaskBlur+",
    "_meta": {
      "title": "ðŸ”§ Mask Blur"
    }
  },
  "181": {
    "inputs": {
      "filename_prefix": "Flux\\Inpaint\\2024-10-17\\segs1_",
      "images": [
        "169",
        0
      ]
    },
    "class_type": "SaveImage",
    "_meta": {
      "title": "Save Image"
    }
  },
  "189": {
    "inputs": {
      "width": [
        "74",
        0
      ],
      "height": [
        "74",
        0
      ],
      "interpolation": "lanczos",
      "method": "keep proportion",
      "condition": "always",
      "multiple_of": 64,
      "image": [
        "115",
        0
      ]
    },
    "class_type": "ImageResize+",
    "_meta": {
      "title": "ðŸ”§ Image Resize"
    }
  },
  "190": {
    "inputs": {
      "expand": 36,
      "tapered_corners": true,
      "mask": [
        "195",
        0
      ]
    },
    "class_type": "GrowMask",
    "_meta": {
      "title": "GrowMask"
    }
  },
  "191": {
    "inputs": {
      "amount": 120,
      "device": "auto",
      "mask": [
        "190",
        0
      ]
    },
    "class_type": "MaskBlur+",
    "_meta": {
      "title": "ðŸ”§ Mask Blur"
    }
  },
  "192": {
    "inputs": {
      "mask": [
        "191",
        0
      ]
    },
    "class_type": "MaskPreview+",
    "_meta": {
      "title": "ðŸ”§ Mask Preview"
    }
  },
  "194": {
    "inputs": {
      "mask": [
        "114",
        0
      ]
    },
    "class_type": "MaskToImage",
    "_meta": {
      "title": "Convert Mask to Image"
    }
  },
  "195": {
    "inputs": {
      "channel": "red",
      "image": [
        "196",
        0
      ]
    },
    "class_type": "ImageToMask",
    "_meta": {
      "title": "Convert Image to Mask"
    }
  },
  "196": {
    "inputs": {
      "width": [
        "74",
        0
      ],
      "height": [
        "74",
        0
      ],
      "interpolation": "lanczos",
      "method": "keep proportion",
      "condition": "always",
      "multiple_of": 64,
      "image": [
        "194",
        0
      ]
    },
    "class_type": "ImageResize+",
    "_meta": {
      "title": "ðŸ”§ Image Resize"
    }
  },
  "197": {
    "inputs": {
      "max_token": 250,
      "endpoint": "https://api.openai.com/v1",
      "model": "gpt-4-vision Low",
      "prompt": [
        "221",
        0
      ],
      "image": [
        "200",
        0
      ]
    },
    "class_type": "ImageDescriptionNode",
    "_meta": {
      "title": "ImageDescriptionNode"
    }
  },
  "198": {
    "inputs": {
      "output": "",
      "source": [
        "197",
        0
      ]
    },
    "class_type": "Display Any (rgthree)",
    "_meta": {
      "title": "Display Any (rgthree)"
    }
  },
  "200": {
    "inputs": {
      "x": 0,
      "y": 0,
      "resize_source": true,
      "destination": [
        "75",
        0
      ],
      "source": [
        "201",
        0
      ],
      "mask": [
        "47",
        0
      ]
    },
    "class_type": "ImageCompositeMasked",
    "_meta": {
      "title": "ImageCompositeMasked"
    }
  },
  "201": {
    "inputs": {
      "width": [
        "75",
        1
      ],
      "height": [
        "75",
        2
      ],
      "red": 0,
      "green": 0,
      "blue": 0
    },
    "class_type": "Image Blank",
    "_meta": {
      "title": "Image Blank"
    }
  },
  "202": {
    "inputs": {
      "images": [
        "200",
        0
      ]
    },
    "class_type": "PreviewImage",
    "_meta": {
      "title": "Preview Image"
    }
  },
  "203": {
    "inputs": {
      "expression": "a*0.5",
      "a": [
        "119",
        6
      ]
    },
    "class_type": "Eden_Math",
    "_meta": {
      "title": "Eden_Math"
    }
  },
  "206": {
    "inputs": {
      "filename_prefix": "Inpaint_preview",
      "images": [
        "31",
        0
      ]
    },
    "class_type": "SaveImage",
    "_meta": {
      "title": "Save Image"
    }
  },
  "216": {
    "inputs": {
      "comparison": "a != b",
      "a": [
        "66",
        0
      ],
      "b": [
        "217",
        0
      ]
    },
    "class_type": "Eden_Compare",
    "_meta": {
      "title": "Masking Prompt is Empty"
    }
  },
  "217": {
    "inputs": {
      "value": ""
    },
    "class_type": "Eden_String",
    "_meta": {
      "title": "Empty_String"
    }
  },
  "219": {
    "inputs": {
      "mask": [
        "47",
        0
      ]
    },
    "class_type": "MaskPreview+",
    "_meta": {
      "title": "ðŸ”§ Mask Preview"
    }
  },
  "221": {
    "inputs": {
      "delimiter": " ",
      "clean_whitespace": "true",
      "text_a": [
        "222",
        0
      ],
      "text_b": [
        "67",
        0
      ]
    },
    "class_type": "Text Concatenate",
    "_meta": {
      "title": "Text Concatenate"
    }
  },
  "222": {
    "inputs": {
      "value": "Provide a visual description \"prompt\" of this image. IMPORTANT: re-imagine the black (masked) regions in the image based on the provided inpainting prompt. If no inpainting prompt is given, just imagine what might naturally fit in those spaces. Limit the final imagined image description to 50 words. Dont mention the black regions, just reply with the full description of that new imagined image, nothing else. Inpainting prompt:"
    },
    "class_type": "Eden_String",
    "_meta": {
      "title": "Eden_String"
    }
  },
  "223": {
    "inputs": {
      "output": "",
      "source": [
        "221",
        0
      ]
    },
    "class_type": "Display Any (rgthree)",
    "_meta": {
      "title": "Display Any (rgthree)"
    }
  }
}